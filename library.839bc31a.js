!function(){function t(t,e,n,a){Object.defineProperty(t,e,{get:n,set:a,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},o=n.parcelRequired7c6;null==o&&((o=function(t){if(t in a)return a[t].exports;if(t in i){var e=i[t];delete i[t];var n={id:t,exports:{}};return a[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},n.parcelRequired7c6=o),o.register("iE7OH",(function(e,n){var a,i;t(e.exports,"register",(function(){return a}),(function(t){return a=t})),t(e.exports,"resolve",(function(){return i}),(function(t){return i=t}));var o={};a=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)o[e[n]]=t[e[n]]},i=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o.register("aNJCr",(function(e,n){var a;t(e.exports,"getBundleURL",(function(){return a}),(function(t){return a=t}));var i={};function o(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(t){var e=i[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return o(t[2])}return"/"}(),i[t]=e),e}})),o("iE7OH").register(JSON.parse('{"jNRdE":"library.839bc31a.js","kxKJ3":"symbol-defs.748d6f7b.svg"}'));var l=JSON.parse(localStorage.getItem("genres")),r=document.querySelector(".gallery");function s(t){0===t.length&&(r.innerHTML="");var e=t.reduce((function(t,e){return t+'<li id="'.concat(e.id,'" class="gallery__item">\n        <a class="gallery__link" href="#">\n          <img\n            class="gallery__img"\n            src=\'').concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path,'\'\n            alt=""\n            width = \'280\' \n          />\n          <div class="gallery-text">\n            <p class="gallery-text__title">').concat(e.original_title,'</p>\n            <div class="gallery-text__info">\n              <p class="gallery-text__genre"> ').concat(e.genre_ids.map((function(t){return l[t]})).length>3?e.genre_ids.map((function(t){return" "+l[t]})).slice(0,2)+", Other ":e.genre_ids.map((function(t){return" "+l[t]}))," | ").concat(e.release_date.slice(0,4),'</p>\n        <span class="gallery-text__rating">').concat(e.vote_average,"</span>\n            </div>\n          </div>\n        </a>\n      </li>")}),"");r.innerHTML=e}var c,d,u,g=document.querySelector(".pagination__list"),_=document.querySelector(".pagination"),p=document.querySelector(".pagination__btn-prev"),m=document.querySelector(".pagination__btn-next");function v(t){u=JSON.parse(localStorage.getItem("".concat(t))),c=1,d=Math.ceil(u.length/20),s(u.slice(0,20)),f()}function f(){var t="";if(c>=1&&(t+='<li class="pagination__item">1</li>'),2===c&&(t+='<li class="pagination__item">2</li>'),3===c&&(t+='<li class="pagination__item">2</li><li class="pagination__item">3</li>'),4===c&&(t+='<li class="pagination__item-hidden is-hidden"><span>...</span></li><li class="pagination__item">2</li><li class="pagination__item">3</li><li class="pagination__item">4</li>'),c>4&&(t+='<li class="pagination__item-hidden"><span>...</span></li><li class="pagination__item">'.concat(c-2,'</li><li class="pagination__item">').concat(c-1,'</li><li class="pagination__item">').concat(c,"</li>")),d-c>=4&&(t+='<li class="pagination__item">'.concat(c+1,'</li><li class="pagination__item">').concat(c+2,'</li><li class="pagination__item-hidden"><span>...</span></li>')),d-c==3&&(t+='<li class="pagination__item">'.concat(c+1,'</li><li class="pagination__item">').concat(c+2,'</li><li class="pagination__item-hidden is-hidden"><span>...</span></li>')),d-c==2&&(t+='<li class="pagination__item">'.concat(c+1,"</li>")),d-c==0)return g.innerHTML=t,h(),L(),y(),void _.addEventListener("click",b);t+='<li class="pagination__item">'.concat(d,"</li>"),g.innerHTML=t,h(),L(),y(),_.addEventListener("click",b)}function b(t){"BUTTON"===t.target.nodeName&&("prev"===t.target.dataset.btn&&(c-=1,S()),"next"===t.target.dataset.btn&&(c+=1,S())),"LI"!==t.target.nodeName||t.target.classList.contains("pagination__item-hidden")||String(c)!==t.target.textContent&&(c=Number(t.target.textContent),S())}function h(){g.lastElementChild.classList.add("pagination-edge"),c>3&&g.firstElementChild.classList.add("pagination-edge"),d-c<3&&g.lastElementChild.classList.remove("pagination-edge")}function L(){document.querySelectorAll(".pagination__item").forEach((function(t){t.textContent===String(c)&&t.classList.add("pagination__currentPage")}))}function y(){1===c?(p.disabled=!0,p.classList.remove("pagination__btn"),p.classList.add("pagination__btn-Ldisabled")):(p.disabled=!1,p.classList.add("pagination__btn"),p.classList.remove("pagination__btn-Ldisabled")),c===d?(m.disabled=!0,m.classList.remove("pagination__btn"),m.classList.add("pagination__btn-Rdisabled")):(m.disabled=!1,m.classList.add("pagination__btn"),m.classList.remove("pagination__btn-Rdisabled"))}function S(){_.removeEventListener("click",b);var t=20*(c-1);s(u.slice(t,t+20)),f(),console.log("~ currentPage",c),console.log("~ totalPages",d)}var E;E=o("aNJCr").getBundleURL("jNRdE")+o("iE7OH").resolve("kxKJ3");var x=document.querySelector(".backdrop");function w(t,n,a){var i=JSON.parse(localStorage.getItem("genres"));objFindItem=t;var o='\n      <div class="modal-group">\n        <button data-modal-close class="modal-group__close-btn">\n        <object class="modal-group__close-object">\n            <svg class="modal-group__close-icon" width="28" height="28">\n              <use href="'.concat(e(E),'#icon-close-modal"></use>\n            </svg>\n          </object>\n        </button>\n        <div class="modal-group__img-wrapper">\n          <img\n            class="modal-group__img"\n            src="').concat("https://image.tmdb.org/t/p/w500").concat(t.poster_path,'"\n            alt="').concat(t.original_title,'"\n            width="280"\n          />\n        </div>\n        <div class="modal-group__wrapper">\n          <h2 class="modal-group__title">').concat(t.original_title,'</h2>\n          <table class="table">\n            <tbody>\n              <tr>\n                <td class="table__title">Vote / Votes</td>\n                <td class="table__text">\n                  <span class="gallery-text__rating table-text-orange">').concat(t.vote_average,'</span>\n                  /\n                  <span class="table-text-grey">').concat(t.vote_count,'</span>\n                </td>\n              </tr>\n  \n              <tr>\n                <td class="table__title">Popularity</td>\n                <td class="table__text">').concat(t.popularity,'</td>\n              </tr>\n              <tr>\n                <td class="table__title">Original Title</td>\n                <td class="table__text">').concat(t.original_title,'</td>\n              </tr>\n              <tr>\n                <td class="table__title">Genre</td>\n                <td class="table__text">').concat(t.genre_ids.map((function(t){return" "+i[t]})),'</td>\n              </tr>\n            </tbody>\n          </table>\n  \n          <h3 class="modal-group__about-title">About</h3>\n          <p class="modal-group__about-text">\n          ').concat(t.overview,'\n          </p>\n          <div class="modal-group__btns">\n            <button class="watched-btn delete-btn" type="submit">').concat(n.toUpperCase(),'</button>\n            <button class="queue-btn" type="submit">').concat(a.toUpperCase(),"</button>\n          </div>\n        </div>\n      </div>");x.innerHTML=o,document.querySelector(".modal-group__close-btn").addEventListener("click",(function(){x.classList.add("is-hidden"),document.removeEventListener("click",O),document.removeEventListener("keydown",q)}))}function q(t){27===t.keyCode&&(x.classList.add("is-hidden"),arrForLocalStorage=[])}function O(t){t.target===forModal&&x.classList.add("is-hidden")}var N=document.querySelector(".library__button--watched"),k=document.querySelector(".library__button--queue");j();localStorage.getItem("watched")&&JSON.parse(localStorage.getItem("watched")),localStorage.getItem("queue")&&JSON.parse(localStorage.getItem("queue")),JSON.parse(localStorage.getItem("watched")),JSON.parse(localStorage.getItem("queue"));var C,J,I=document.querySelector(".gallery"),T=document.querySelector(".backdrop");function H(){console.log("dsfevsdf"),function(){if("DELETE"===C.textContent)C.textContent="DONE!"}()}function R(){console.log("dsfevsdf")}function j(){k.classList.remove("active");var t=JSON.parse(localStorage.getItem("watched"));t?(s(t),v("watched")):s([])}I.addEventListener("click",(function(t){var e;if(!t.target.closest("li"))return;var n=JSON.parse(localStorage.getItem("response"));T.classList.remove("is-hidden");var a=t.target.closest("li").id;e=n.find((function(t){return String(t.id)===a})),forLocalStorage=e,N.classList.contains("active")?w(e,"DELETE","add to queue"):w(e,"DELETE","add to watched"),C=document.querySelector(".delete-btn"),J=document.querySelector(".queue-btn"),C.addEventListener("click",H),J.addEventListener("click",R)})),N.addEventListener("click",j),k.addEventListener("click",(function(){var t=JSON.parse(localStorage.getItem("queue"));k.classList.add("active"),N.classList.remove("active"),t?(s(t),v("queue")):s([])}))}();
//# sourceMappingURL=library.839bc31a.js.map
