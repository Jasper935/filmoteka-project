function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},l=n.parcelRequired7c6;null==l&&((l=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},n.parcelRequired7c6=l),l.register("kyEFX",(function(t,n){var a,i;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var l={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)l[t[n]]=e[t[n]]},i=function(e){var t=l[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),l("kyEFX").register(JSON.parse('{"bHX8u":"library.e29b6890.js","9v6fF":"symbol-defs.748d6f7b.svg"}'));let s=JSON.parse(localStorage.getItem("genres"));const o=document.querySelector(".gallery");function r(e){0===e.length&&(o.innerHTML="");let t=e.reduce(((e,t)=>e+`<li id="${t.id}" class="gallery__item">\n        <a class="gallery__link" href="#">\n          <img\n            class="gallery__img"\n            src='https://image.tmdb.org/t/p/w500${t.poster_path}'\n            alt=""\n            width = '280' \n          />\n          <div class="gallery-text">\n            <p class="gallery-text__title">${t.original_title}</p>\n            <div class="gallery-text__info">\n              <p class="gallery-text__genre"> ${t.genre_ids.map((e=>s[e])).length>3?t.genre_ids.map((e=>" "+s[e])).slice(0,2)+", Other ":t.genre_ids.map((e=>" "+s[e]))} | ${t.release_date.slice(0,4)}</p>\n        <span class="gallery-text__rating">${t.vote_average}</span>\n            </div>\n          </div>\n        </a>\n      </li>`),"");o.innerHTML=t}const c=document.querySelector(".pagination__list"),d=document.querySelector(".pagination"),g=document.querySelector(".pagination__btn-prev"),_=document.querySelector(".pagination__btn-next");let u,p,m;function b(e){m=JSON.parse(localStorage.getItem(`${e}`)),u=1,p=Math.ceil(m.length/20),r(m.slice(0,20)),v()}function v(){let e="";if(u>=1&&(e+='<li class="pagination__item">1</li>'),2===u&&(e+='<li class="pagination__item">2</li>'),3===u&&(e+='<li class="pagination__item">2</li><li class="pagination__item">3</li>'),4===u&&(e+='<li class="pagination__item-hidden is-hidden"><span>...</span></li><li class="pagination__item">2</li><li class="pagination__item">3</li><li class="pagination__item">4</li>'),u>4&&(e+=`<li class="pagination__item-hidden"><span>...</span></li><li class="pagination__item">${u-2}</li><li class="pagination__item">${u-1}</li><li class="pagination__item">${u}</li>`),p-u>=4&&(e+=`<li class="pagination__item">${u+1}</li><li class="pagination__item">${u+2}</li><li class="pagination__item-hidden"><span>...</span></li>`),p-u==3&&(e+=`<li class="pagination__item">${u+1}</li><li class="pagination__item">${u+2}</li><li class="pagination__item-hidden is-hidden"><span>...</span></li>`),p-u==2&&(e+=`<li class="pagination__item">${u+1}</li>`),p-u==0)return c.innerHTML=e,h(),y(),L(),void d.addEventListener("click",f);e+=`<li class="pagination__item">${p}</li>`,c.innerHTML=e,h(),y(),L(),d.addEventListener("click",f)}function f(e){"BUTTON"===e.target.nodeName&&("prev"===e.target.dataset.btn&&(u-=1,S()),"next"===e.target.dataset.btn&&(u+=1,S())),"LI"!==e.target.nodeName||e.target.classList.contains("pagination__item-hidden")||String(u)!==e.target.textContent&&(u=Number(e.target.textContent),S())}function h(){c.lastElementChild.classList.add("pagination-edge"),u>3&&c.firstElementChild.classList.add("pagination-edge"),p-u<3&&c.lastElementChild.classList.remove("pagination-edge")}function y(){document.querySelectorAll(".pagination__item").forEach((e=>{e.textContent===String(u)&&e.classList.add("pagination__currentPage")}))}function L(){1===u?(g.disabled=!0,g.classList.remove("pagination__btn"),g.classList.add("pagination__btn-Ldisabled")):(g.disabled=!1,g.classList.add("pagination__btn"),g.classList.remove("pagination__btn-Ldisabled")),u===p?(_.disabled=!0,_.classList.remove("pagination__btn"),_.classList.add("pagination__btn-Rdisabled")):(_.disabled=!1,_.classList.add("pagination__btn"),_.classList.remove("pagination__btn-Rdisabled"))}function S(){d.removeEventListener("click",f);const e=20*(u-1);r(m.slice(e,e+20)),v(),console.log("~ currentPage",u),console.log("~ totalPages",p)}var E;E=new URL(l("kyEFX").resolve("9v6fF"),import.meta.url).toString();const $=document.querySelector(".backdrop");function w(e,n,a){const i=JSON.parse(localStorage.getItem("genres"));objFindItem=e;const l=`\n      <div class="modal-group">\n        <button data-modal-close class="modal-group__close-btn">\n        <object class="modal-group__close-object">\n            <svg class="modal-group__close-icon" width="28" height="28">\n              <use href="${t(E)}#icon-close-modal"></use>\n            </svg>\n          </object>\n        </button>\n        <div class="modal-group__img-wrapper">\n          <img\n            class="modal-group__img"\n            src="https://image.tmdb.org/t/p/w500${e.poster_path}"\n            alt="${e.original_title}"\n            width="280"\n          />\n        </div>\n        <div class="modal-group__wrapper">\n          <h2 class="modal-group__title">${e.original_title}</h2>\n          <table class="table">\n            <tbody>\n              <tr>\n                <td class="table__title">Vote / Votes</td>\n                <td class="table__text">\n                  <span class="gallery-text__rating table-text-orange">${e.vote_average}</span>\n                  /\n                  <span class="table-text-grey">${e.vote_count}</span>\n                </td>\n              </tr>\n  \n              <tr>\n                <td class="table__title">Popularity</td>\n                <td class="table__text">${e.popularity}</td>\n              </tr>\n              <tr>\n                <td class="table__title">Original Title</td>\n                <td class="table__text">${e.original_title}</td>\n              </tr>\n              <tr>\n                <td class="table__title">Genre</td>\n                <td class="table__text">${e.genre_ids.map((e=>" "+i[e]))}</td>\n              </tr>\n            </tbody>\n          </table>\n  \n          <h3 class="modal-group__about-title">About</h3>\n          <p class="modal-group__about-text">\n          ${e.overview}\n          </p>\n          <div class="modal-group__btns">\n            <button class="watched-btn delete-btn" type="submit">${n.toUpperCase()}</button>\n            <button class="queue-btn" type="submit">${a.toUpperCase()}</button>\n          </div>\n        </div>\n      </div>`;$.innerHTML=l;document.querySelector(".modal-group__close-btn").addEventListener("click",(()=>{$.classList.add("is-hidden"),document.removeEventListener("click",q),document.removeEventListener("keydown",x)}))}function x(e){27===e.keyCode&&($.classList.add("is-hidden"),arrForLocalStorage=[])}function q(e){e.target===forModal&&$.classList.add("is-hidden")}const O=document.querySelector(".library__button--watched"),k=document.querySelector(".library__button--queue");j();let N=[],I=[];localStorage.getItem("watched")&&(I=JSON.parse(localStorage.getItem("watched"))),localStorage.getItem("queue")&&(N=JSON.parse(localStorage.getItem("queue"))),I=JSON.parse(localStorage.getItem("watched")),N=JSON.parse(localStorage.getItem("queue"));const T=document.querySelector(".gallery"),C=document.querySelector(".backdrop");let J,F;function H(){console.log("dsfevsdf"),function(){if("DELETE"===J.textContent)J.textContent="DONE!"}()}function M(){console.log("dsfevsdf")}function j(){k.classList.remove("active");const e=JSON.parse(localStorage.getItem("watched"));e?(r(e),b("watched")):r([])}T.addEventListener("click",(function(e){let t;if(!e.target.closest("li"))return;{let n=JSON.parse(localStorage.getItem("response"));C.classList.remove("is-hidden");const a=e.target.closest("li").id;t=n.find((e=>String(e.id)===a)),forLocalStorage=t,O.classList.contains("active")?w(t,"DELETE","add to queue"):w(t,"DELETE","add to watched"),J=document.querySelector(".delete-btn"),F=document.querySelector(".queue-btn"),J.addEventListener("click",H),F.addEventListener("click",M)}})),O.addEventListener("click",j),k.addEventListener("click",(function(){const e=JSON.parse(localStorage.getItem("queue"));k.classList.add("active"),O.classList.remove("active"),e?(r(e),b("queue")):r([])}));
//# sourceMappingURL=library.e29b6890.js.map
