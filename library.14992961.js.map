{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-258b381a2f547fd3.js","src/js/library.js","src/js/paginationLib.js","node_modules/@parcel/runtime-js/lib/runtime-35bf348f28765cfb.js","src/js/markUp/markupModalLibrary.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jNRdE\\\":\\\"library.14992961.js\\\",\\\"kxKJ3\\\":\\\"symbol-defs.ce986458.svg\\\",\\\"4DP8a\\\":\\\"library.e6cfaf9b.js\\\"}\"));","import { markUpForLibrary } from './markUp/markUpforLibrary';\n\nimport {\n  firstPaginationCall,\n  removePagination,\n  paginationMarkupLib,\n} from './paginationLib';\nimport markUpModalLib from './markUp/markupModalLibrary';\nimport Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  width: '300px',\n  position: 'top-left',\n  closeButton: false,\n  cssAnimationStyle: 'from-right',\n  timeout: 1000,\n  success: {\n    background: '#FF6B08',\n    svgColor: '#32c682',\n    titleColor: '#1e1e1e',\n    messageColor: '#242424',\n    buttonBackground: '#32c682',\n    buttonColor: '#fff',\n    backOverlayColor: 'rgba(50,198,130,0.2)',\n  },\n  info: {\n    background: '#50c184',\n  },\n});\n\nconst watched = document.querySelector('.library__button--watched');\nconst queue = document.querySelector('.library__button--queue');\nlet elementForModal; //елемент открытой картинки\nonClickWatched(); //dont touch\n\nlet arrForQueue = [];\nlet arrForWatched = [];\nif (localStorage.getItem('watched')) {\n  arrForWatched = JSON.parse(localStorage.getItem('watched'));\n}\nif (localStorage.getItem('queue')) {\n  arrForQueue = JSON.parse(localStorage.getItem('queue'));\n}\n\nconst gallery = document.querySelector('.gallery');\nconst backdrop = document.querySelector('.backdrop');\n//==================\nlet deleteBtn;\nlet addToQueue;\n//=============================\ngallery.addEventListener('click', onClick);\n// function checkAddBtn() {\n//   if (watched.classList.contains('active')) {\n//    const res = JSON.parse(localStorage.getItem('watched')).some(el=>el.id===elementForModal.id)\n//    console.log(res);\n//    if (res) {\n//     addToQueue.setAttribute('disabled', true)\n//    }\n\n//   } else if (queue.classList.contains('active')) {\n//     checkDeleteBtn('queue');\n\n//   }\n// }\nlet onButtonGenerate = '';\nfunction onClick(event) {\n  if (!event.target.closest('li')) {\n    return;\n  }\n  if (watched.classList.contains('active')) {\n    onButtonGenerate = 'watched';\n  } else {\n    onButtonGenerate = 'queue';\n  }\n  let response = JSON.parse(localStorage.getItem(onButtonGenerate));\n  console.log('~ response', response);\n  backdrop.classList.remove('is-hidden');\n  const currentId = event.target.closest('li').id;\n  console.log('~ currentId', currentId);\n  elementForModal = response.find(el => String(el.id) === currentId);\n  console.log('~ elementForModal', elementForModal);\n\n  if (watched.classList.contains('active')) {\n    markUpModalLib(elementForModal, 'REMOVE FROM LIST', 'add to queue');\n  } else {\n    markUpModalLib(elementForModal, 'REMOVE FROM LIST', 'add to watched');\n  }\n  deleteBtn = document.querySelector('.delete-btn');\n  addToQueue = document.querySelector('.queue-btn');\n  deleteBtn.addEventListener('click', onClickDelete);\n  addToQueue.addEventListener('click', onClickAddtBtn);\n}\nfunction onClickDelete() {\n  if (watched.classList.contains('active')) {\n    checkDeleteBtn('watched');\n  } else if (queue.classList.contains('active')) {\n    checkDeleteBtn('queue');\n  }\n}\nfunction onClickAddtBtn() {\n  if (queue.classList.contains('active')) {\n    let res = arrForWatched.filter(el => el.id !== elementForModal.id);\n    arrForWatched = res;\n    arrForWatched.push(elementForModal);\n    localStorage.setItem('watched', JSON.stringify(arrForWatched));\n    addToQueue.setAttribute('disabled', true);\n\n    addToQueue.classList.add('inactive');\n  } else if (watched.classList.contains('active')) {\n    let res = arrForQueue.filter(el => el.id !== elementForModal.id);\n    arrForQueue = res;\n    arrForQueue.push(elementForModal);\n    localStorage.setItem('queue', JSON.stringify(arrForQueue));\n\n    Notiflix.Notify.info('Movie was addeed to your queue');\n\n    addToQueue.setAttribute('disabled', true);\n    addToQueue.classList.add('inactive');\n  }\n}\n\nfunction checkDeleteBtn(name) {\n  if (deleteBtn.textContent === 'REMOVE FROM LIST') {\n    Notiflix.Notify.success('Film was removed');\n    deleteBtn.classList.add('visually-hidden');\n    let resFromStorage = JSON.parse(localStorage.getItem(name));\n\n    let resToStorage = resFromStorage.filter(\n      el => el.id !== elementForModal.id\n    );\n\n    localStorage.setItem(name, JSON.stringify(resToStorage));\n    // return 'ADD';\n    if (name === 'watched') {\n      onClickWatched();\n    } else if (name === 'queue') {\n      onClickQueue();\n    }\n  }\n  return;\n}\n\nwatched.addEventListener('click', onClickWatched);\nqueue.addEventListener('click', onClickQueue);\n\nfunction onClickWatched() {\n  watched.classList.add('active');\n\n  queue.classList.remove('active');\n  const item = JSON.parse(localStorage.getItem('watched'));\n  console.log('~ item', item);\n  if (item && item.length > 0) {\n    firstPaginationCall('watched'); //dont touch==============\n    // markUpForLibrary(item);\n  } else {\n    removePagination();\n    markUpForLibrary([]);\n  }\n}\nfunction onClickQueue() {\n  const item = JSON.parse(localStorage.getItem('queue'));\n  queue.classList.add('active');\n  watched.classList.remove('active');\n  if (item && item.length > 0) {\n    firstPaginationCall('queue'); //dont touch===========\n    // markUpForLibrary(item);\n  } else {\n    removePagination();\n    markUpForLibrary([]);\n  }\n}\n\n// paginationRemoveFromLib('watched');\n","import { markUpForLibrary } from './markUp/markUpforLibrary';\nconst paginList = document.querySelector('.pagination__list');\nconst paginBlock = document.querySelector('.pagination');\nconst prevBtn = document.querySelector('.pagination__btn-prev');\nconst nextBtn = document.querySelector('.pagination__btn-next');\nconst PAGE = 'pageLib';\n\nlet currentPage = Number(JSON.parse(localStorage.getItem(PAGE)));\nlet totalPages;\nlet arrLib;\n\nfunction changeCurrentPage(page) {\n  localStorage.setItem(PAGE, JSON.stringify(page));\n  currentPage = Number(JSON.parse(localStorage.getItem(PAGE)));\n}\n\nfunction firstPaginationCall(arr) {\n  arrLib = JSON.parse(localStorage.getItem(`${arr}`));\n  totalPages = Math.ceil(arrLib.length / 20);\n  console.log('~ currentPage', currentPage);\n  if (!currentPage) {\n    changeCurrentPage(1);\n  }\n  if (currentPage > totalPages) {\n    changeCurrentPage(totalPages);\n  }\n  const indexOfArrLib = (currentPage - 1) * 20;\n  markUpForLibrary(arrLib.slice(indexOfArrLib, indexOfArrLib + 20));\n  paginationMarkupLib();\n}\n\n// function paginationRemoveFromLib(arr) {\n//   arrLib = JSON.parse(localStorage.getItem(`${arr}`));\n//   totalPages = Math.ceil(arrLib.length / 20);\n//   console.log('remove');\n//   if (currentPage > totalPages) {\n//     currentPage = totalPages;\n//   }\n//   const indexOfArrLib = (currentPage - 1) * 20;\n//   markUpForLibrary(arrLib.slice(indexOfArrLib, indexOfArrLib + 20));\n//   paginationMarkupLib();\n// }\n\nfunction paginationMarkupLib() {\n  //   paginBlock.removeEventListener('click', onClickPagination);\n  let markup = '';\n  if (currentPage >= 1) {\n    markup += `<li class=\"pagination__item\">1</li>`;\n  }\n  if (currentPage === 2) {\n    markup += '<li class=\"pagination__item\">2</li>';\n  }\n  if (currentPage === 3) {\n    markup +=\n      '<li class=\"pagination__item\">2</li><li class=\"pagination__item\">3</li>';\n  }\n  if (currentPage === 4) {\n    markup += `<li class=\"pagination__item-hidden is-hidden\"><span>...</span></li><li class=\"pagination__item\">2</li><li class=\"pagination__item\">3</li><li class=\"pagination__item\">4</li>`;\n  }\n  if (currentPage > 4) {\n    markup += `<li class=\"pagination__item-hidden\"><span>...</span></li><li class=\"pagination__item\">${\n      currentPage - 2\n    }</li><li class=\"pagination__item\">${\n      currentPage - 1\n    }</li><li class=\"pagination__item\">${currentPage}</li>`;\n  }\n  if (totalPages - currentPage >= 4) {\n    markup += `<li class=\"pagination__item\">${\n      currentPage + 1\n    }</li><li class=\"pagination__item\">${\n      currentPage + 2\n    }</li><li class=\"pagination__item-hidden\"><span>...</span></li>`;\n  }\n  if (totalPages - currentPage === 3) {\n    markup += `<li class=\"pagination__item\">${\n      currentPage + 1\n    }</li><li class=\"pagination__item\">${\n      currentPage + 2\n    }</li><li class=\"pagination__item-hidden is-hidden\"><span>...</span></li>`;\n  }\n  if (totalPages - currentPage === 2) {\n    markup += `<li class=\"pagination__item\">${currentPage + 1}</li>`;\n  }\n  if (totalPages - currentPage === 0) {\n    paginList.innerHTML = markup;\n    addEdgeClass();\n    addCurrentClassBtn();\n    isEdgePage();\n    paginBlock.addEventListener('click', onClickPagination);\n    return;\n  }\n  markup += `<li class=\"pagination__item\">${totalPages}</li>`;\n  paginList.innerHTML = markup;\n  addEdgeClass();\n  addCurrentClassBtn();\n  isEdgePage();\n  paginBlock.addEventListener('click', onClickPagination);\n}\n\nfunction onClickPagination(evt) {\n  if (evt.target.nodeName === 'BUTTON') {\n    if (evt.target.dataset.btn === 'prev') {\n      changeCurrentPage(currentPage - 1);\n      sendRequest();\n    }\n    if (evt.target.dataset.btn === 'next') {\n      changeCurrentPage(currentPage + 1);\n      sendRequest();\n    }\n  }\n  if (\n    evt.target.nodeName !== 'LI' ||\n    evt.target.classList.contains('pagination__item-hidden')\n  ) {\n    return;\n  }\n  if (String(currentPage) === evt.target.textContent) {\n    return;\n  }\n  changeCurrentPage(Number(evt.target.textContent));\n  sendRequest();\n}\n\n// paginationMarkup();\n\nfunction addEdgeClass() {\n  paginList.lastElementChild.classList.add('pagination-edge');\n  if (currentPage > 3) {\n    paginList.firstElementChild.classList.add('pagination-edge');\n  }\n  if (totalPages - currentPage < 3) {\n    paginList.lastElementChild.classList.remove('pagination-edge');\n  }\n}\n\nfunction addCurrentClassBtn() {\n  const list = document.querySelectorAll('.pagination__item');\n  list.forEach(el => {\n    if (el.textContent === String(currentPage)) {\n      el.classList.add('pagination__currentPage');\n    }\n  });\n}\n\nfunction isEdgePage() {\n  if (currentPage === 1) {\n    prevBtn.disabled = true;\n    prevBtn.classList.remove('pagination__btn');\n    prevBtn.classList.add('pagination__btn-Ldisabled');\n  } else {\n    prevBtn.disabled = false;\n    prevBtn.classList.add('pagination__btn');\n    prevBtn.classList.remove('pagination__btn-Ldisabled');\n  }\n\n  if (currentPage === totalPages) {\n    nextBtn.disabled = true;\n    nextBtn.classList.remove('pagination__btn');\n    nextBtn.classList.add('pagination__btn-Rdisabled');\n  } else {\n    nextBtn.disabled = false;\n    nextBtn.classList.add('pagination__btn');\n    nextBtn.classList.remove('pagination__btn-Rdisabled');\n  }\n}\n\nfunction sendRequest() {\n  paginBlock.removeEventListener('click', onClickPagination);\n  const indexOfArrLib = (currentPage - 1) * 20;\n  markUpForLibrary(arrLib.slice(indexOfArrLib, indexOfArrLib + 20));\n\n  paginationMarkupLib();\n  console.log('~ currentPage', currentPage);\n  console.log('~ totalPages', totalPages);\n}\nfunction removePagination() {\n  paginBlock.innerHTML = '';\n}\n\nexport {\n  paginationMarkupLib,\n  firstPaginationCall,\n  // paginationRemoveFromLib,\n  removePagination,\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('jNRdE') + require('./helpers/bundle-manifest').resolve(\"kxKJ3\");","import sprite from '../../images/symbol-defs.svg';\n\nlet objFindItem;\n\nconst backdrop = document.querySelector('.backdrop');\n\nexport default function markUpModalLib(obj, nameBtnFirst, nameBtnLast) {\n  if (obj) {\n    // //////////////////////////////////////////////////////\n    document.addEventListener('click', handleClick);\n    document.addEventListener('keydown', onEscape);\n    // ////////////////////////////////////////////////////\n    const genres = JSON.parse(localStorage.getItem('genres'));\n    const urlImg = 'https://image.tmdb.org/t/p/w500';\n\n    objFindItem = obj;\n\n    //при нажатии на карточку обект карточки пущится в массив\n\n    const markUp = `\n      <div class=\"modal-group\">\n        <button data-modal-close class=\"modal-group__close-btn\">\n        <object class=\"modal-group__close-object\">\n            <svg class=\"modal-group__close-icon\" width=\"28\" height=\"28\">\n              <use href=\"${sprite}#icon-close-modal\"></use>\n            </svg>\n          </object>\n        </button>\n        <div class=\"modal-group__img-wrapper\">\n          <img\n            class=\"modal-group__img\"\n            src=\"${\n              obj.poster_path\n                ? urlImg + obj.poster_path\n                : 'https://s1.hostingkartinok.com/uploads/images/2022/07/40ceaea2e22257d2a139ca5a0c0b8ba9.jpg'\n            }\"\n            alt=\"${obj.original_title}\"\n            width=\"280\"\n          />\n        </div>\n        <div class=\"modal-group__wrapper\">\n          <h2 class=\"modal-group__title\">${obj.original_title}</h2>\n          <table class=\"table\">\n            <tbody>\n              <tr>\n                <td class=\"table__title\">Vote / Votes</td>\n                <td class=\"table__text\">\n                  <span class=\"gallery-text__rating table-text-orange\">${\n                    obj.vote_average\n                  }</span>\n                  /\n                  <span class=\"table-text-grey\">${obj.vote_count}</span>\n                </td>\n              </tr>\n  \n              <tr>\n                <td class=\"table__title\">Popularity</td>\n                <td class=\"table__text\">${obj.popularity}</td>\n              </tr>\n              <tr>\n                <td class=\"table__title\">Original Title</td>\n                <td class=\"table__text\">${obj.original_title}</td>\n              </tr>\n              <tr>\n                <td class=\"table__title\">Genre</td>\n                <td class=\"table__text\">${obj.genre_ids.map(gen => {\n                  return (gen = ' ' + genres[gen]);\n                })}</td>\n              </tr>\n            </tbody>\n          </table>\n  \n          <h3 class=\"modal-group__about-title\">About</h3>\n          <p class=\"modal-group__about-text\">\n          ${obj.overview}\n          </p>\n          <div class=\"modal-group__btns\">\n            <button class=\"watched-btn delete-btn\" type=\"submit\" >${nameBtnFirst.toUpperCase()}</button>\n            <button class=\"queue-btn\" type=\"submit\">${nameBtnLast.toUpperCase()}</button>\n          </div>\n        </div>\n      </div>`;\n\n    backdrop.innerHTML = markUp;\n\n    const closeBtn = document.querySelector('.modal-group__close-btn');\n\n    closeBtn.addEventListener('click', () => {\n      backdrop.classList.add('is-hidden');\n      // ///////////////////////////////////////////\n      document.removeEventListener('click', handleClick);\n      document.removeEventListener('keydown', onEscape);\n      // ///////////////////////////////////////////////////\n    });\n\n    function onClickQueue() {\n      const resq = checkQueue();\n      if (resq === 'REMOVE') {\n        // console.log('rew');\n        let resFromQ = JSON.parse(localStorage.getItem('queue'));\n        // console.log(resFromWatch);\n        let resToStorage = resFromQ.filter(el => el.id !== objFindItem.id);\n        // console.log(resToStorage);\n        localStorage.setItem('queue', JSON.stringify(resToStorage));\n      } else {\n        arrForQueue.push(forLocalStorage);\n        localStorage.setItem('queue', JSON.stringify(arrForQueue));\n      }\n    }\n  }\n}\n\n///////// Ф-ція закриття по Escape/////\n\nfunction onEscape(event) {\n  if (event.keyCode === 27) {\n    backdrop.classList.add('is-hidden');\n  }\n}\n\n///////// Ф-ція закриття модалки  handleClick за кліком поза межами модалки/////\nfunction handleClick(event) {\n  if (event.target.nodeName === 'DIV') {\n    backdrop.classList.add('is-hidden');\n  }\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$063bfb06819d9045$var$totalPages","$063bfb06819d9045$var$arrLib","$5GYIm","$063bfb06819d9045$var$paginList","document","querySelector","$063bfb06819d9045$var$paginBlock","$063bfb06819d9045$var$prevBtn","$063bfb06819d9045$var$nextBtn","$063bfb06819d9045$var$PAGE","$063bfb06819d9045$var$currentPage","Number","localStorage","getItem","$063bfb06819d9045$var$changeCurrentPage","page","setItem","stringify","$063bfb06819d9045$export$31993a1791953749","arr","concat","Math","ceil","console","log","indexOfArrLib","markUpForLibrary","slice","$063bfb06819d9045$export$92a8daa6d8c6a0d4","markup","innerHTML","$063bfb06819d9045$var$addEdgeClass","$063bfb06819d9045$var$addCurrentClassBtn","$063bfb06819d9045$var$isEdgePage","addEventListener","$063bfb06819d9045$var$onClickPagination","evt","target","nodeName","dataset","btn","$063bfb06819d9045$var$sendRequest","classList","contains","String","textContent","lastElementChild","add","firstElementChild","remove","querySelectorAll","forEach","el","disabled","removeEventListener","$063bfb06819d9045$export$69cd83fdda46a886","$3c6560d7578c5a7d$exports","getBundleURL","resolve","$e3e9f4a5b4caa112$var$backdrop","$e3e9f4a5b4caa112$export$2e2bcd8739ae039","obj","nameBtnFirst","nameBtnLast","$e3e9f4a5b4caa112$var$handleClick","$e3e9f4a5b4caa112$var$onEscape","genres","markUp","$parcel$interopDefault","poster_path","original_title","vote_average","vote_count","popularity","genre_ids","map","gen","overview","toUpperCase","event","keyCode","$iU1Pc","Notify","init","width","position","closeButton","cssAnimationStyle","timeout","success","background","svgColor","titleColor","messageColor","buttonBackground","buttonColor","backOverlayColor","info","$93effc6fc56091ad$var$elementForModal","$93effc6fc56091ad$var$watched","$93effc6fc56091ad$var$queue","$93effc6fc56091ad$var$onClickWatched","$93effc6fc56091ad$var$arrForQueue","$93effc6fc56091ad$var$arrForWatched","$93effc6fc56091ad$var$deleteBtn","$93effc6fc56091ad$var$addToQueue","$93effc6fc56091ad$var$gallery","$93effc6fc56091ad$var$backdrop","closest","$93effc6fc56091ad$var$onButtonGenerate","response","currentId","find","$93effc6fc56091ad$var$onClickDelete","$93effc6fc56091ad$var$onClickAddtBtn","$93effc6fc56091ad$var$checkDeleteBtn","res","filter","push","setAttribute","res1","name","resToStorage","$93effc6fc56091ad$var$onClickQueue","item"],"version":3,"file":"library.14992961.js.map"}