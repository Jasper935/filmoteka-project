{"mappings":"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","sources":["src/js/markUp/markUpforLibrary.js","src/js/paginationLib.js","src/js/library.js"],"sourcesContent":["const urlImg = 'https://image.tmdb.org/t/p/w500';\nlet obj1 = JSON.parse(localStorage.getItem('genres'));\nconst gallery = document.querySelector('.gallery');\n\nexport function markUpForLibrary(arr) {\n  if (arr.length===0) {\n    gallery.innerHTML =''\n  }\n  let markUp = arr.reduce(\n    (acc, el) =>\n      (acc += `<li id=\"${el.id}\" class=\"gallery__item\">\n        <a class=\"gallery__link\" href=\"#\">\n          <img\n            class=\"gallery__img\"\n            src='${urlImg}${el.poster_path}'\n            alt=\"\"\n            width = '280'\n          />\n          <div class=\"gallery-text\">\n            <p class=\"gallery-text__title\">${el.original_title}</p>\n            <div class=\"gallery-text__info\">\n              <p class=\"gallery-text__genre\"> ${\n                el.genre_ids.map(gen => {\n                  return (gen = obj1[gen]);\n                }).length > 3\n                  ? el.genre_ids\n                      .map(gen => {\n                        return (gen = ' ' + obj1[gen]);\n                      })\n                      .slice(0, 2) + ', Other '\n                  : el.genre_ids.map(gen => {\n                      return (gen = ' ' + obj1[gen]);\n                    })\n              } | ${el.release_date.slice(0, 4)}</p>\n        <span class=\"gallery-text__rating\">${el.vote_average}</span>\n            </div>\n          </div>\n        </a>\n      </li>`),\n    ''\n  );\n  gallery.innerHTML = markUp;\n}\n","import { markUpForLibrary } from './markUp/markUpforLibrary';\nconst paginList = document.querySelector('.pagination__list');\nconst paginBlock = document.querySelector('.pagination');\nconst prevBtn = document.querySelector('.pagination__btn-prev');\nconst nextBtn = document.querySelector('.pagination__btn-next');\n\nlet currentPage;\nlet totalPages;\nlet arrLib;\nfunction firstPaginationCall(arr) {\n  arrLib = JSON.parse(localStorage.getItem(`${arr}`));\n  currentPage = 1;\n  totalPages = Math.ceil(arrLib.length / 20);\n  markUpForLibrary(arrLib.slice(0, 20));\n  paginationMarkupLib();\n}\nfunction paginationMarkupLib() {\n  //   paginBlock.removeEventListener('click', onClickPagination);\n  let markup = '';\n  if (currentPage >= 1) {\n    markup += `<li class=\"pagination__item\">1</li>`;\n  }\n  if (currentPage === 2) {\n    markup += '<li class=\"pagination__item\">2</li>';\n  }\n  if (currentPage === 3) {\n    markup +=\n      '<li class=\"pagination__item\">2</li><li class=\"pagination__item\">3</li>';\n  }\n  if (currentPage === 4) {\n    markup += `<li class=\"pagination__item-hidden is-hidden\"><span>...</span></li><li class=\"pagination__item\">2</li><li class=\"pagination__item\">3</li><li class=\"pagination__item\">4</li>`;\n  }\n  if (currentPage > 4) {\n    markup += `<li class=\"pagination__item-hidden\"><span>...</span></li><li class=\"pagination__item\">${\n      currentPage - 2\n    }</li><li class=\"pagination__item\">${\n      currentPage - 1\n    }</li><li class=\"pagination__item\">${currentPage}</li>`;\n  }\n  if (totalPages - currentPage >= 4) {\n    markup += `<li class=\"pagination__item\">${\n      currentPage + 1\n    }</li><li class=\"pagination__item\">${\n      currentPage + 2\n    }</li><li class=\"pagination__item-hidden\"><span>...</span></li>`;\n  }\n  if (totalPages - currentPage === 3) {\n    markup += `<li class=\"pagination__item\">${\n      currentPage + 1\n    }</li><li class=\"pagination__item\">${\n      currentPage + 2\n    }</li><li class=\"pagination__item-hidden is-hidden\"><span>...</span></li>`;\n  }\n  if (totalPages - currentPage === 2) {\n    markup += `<li class=\"pagination__item\">${currentPage + 1}</li>`;\n  }\n  if (totalPages - currentPage === 0) {\n    paginList.innerHTML = markup;\n    addEdgeClass();\n    addCurrentClassBtn();\n    isEdgePage();\n    paginBlock.addEventListener('click', onClickPagination);\n    return;\n  }\n  markup += `<li class=\"pagination__item\">${totalPages}</li>`;\n  paginList.innerHTML = markup;\n  addEdgeClass();\n  addCurrentClassBtn();\n  isEdgePage();\n  paginBlock.addEventListener('click', onClickPagination);\n}\n\nfunction onClickPagination(evt) {\n  if (evt.target.nodeName === 'BUTTON') {\n    if (evt.target.dataset.btn === 'prev') {\n      currentPage -= 1;\n      sendRequest();\n    }\n    if (evt.target.dataset.btn === 'next') {\n      currentPage += 1;\n      sendRequest();\n    }\n  }\n  if (\n    evt.target.nodeName !== 'LI' ||\n    evt.target.classList.contains('pagination__item-hidden')\n  ) {\n    return;\n  }\n  if (String(currentPage) === evt.target.textContent) {\n    return;\n  }\n  currentPage = Number(evt.target.textContent);\n  sendRequest();\n}\n\n// paginationMarkup();\n\nfunction addEdgeClass() {\n  paginList.lastElementChild.classList.add('pagination-edge');\n  if (currentPage > 3) {\n    paginList.firstElementChild.classList.add('pagination-edge');\n  }\n  if (totalPages - currentPage < 3) {\n    paginList.lastElementChild.classList.remove('pagination-edge');\n  }\n}\n\nfunction addCurrentClassBtn() {\n  const list = document.querySelectorAll('.pagination__item');\n  list.forEach(el => {\n    if (el.textContent === String(currentPage)) {\n      el.classList.add('pagination__currentPage');\n    }\n  });\n}\n\nfunction isEdgePage() {\n  if (currentPage === 1) {\n    prevBtn.disabled = true;\n    prevBtn.classList.remove('pagination__btn');\n    prevBtn.classList.add('pagination__btn-Ldisabled');\n  } else {\n    prevBtn.disabled = false;\n    prevBtn.classList.add('pagination__btn');\n    prevBtn.classList.remove('pagination__btn-Ldisabled');\n  }\n\n  if (currentPage === totalPages) {\n    nextBtn.disabled = true;\n    nextBtn.classList.remove('pagination__btn');\n    nextBtn.classList.add('pagination__btn-Rdisabled');\n  } else {\n    nextBtn.disabled = false;\n    nextBtn.classList.add('pagination__btn');\n    nextBtn.classList.remove('pagination__btn-Rdisabled');\n  }\n}\n\nfunction sendRequest() {\n  paginBlock.removeEventListener('click', onClickPagination);\n  const indexOfArrLib = (currentPage - 1) * 20;\n  markUpForLibrary(arrLib.slice(indexOfArrLib, indexOfArrLib + 20));\n\n  paginationMarkupLib();\n  console.log('~ currentPage', currentPage);\n  console.log('~ totalPages', totalPages);\n}\nexport { paginationMarkupLib, firstPaginationCall };\n","import { markUpForLibrary } from './markUp/markUpforLibrary';\nimport { firstPaginationCall } from './paginationLib';\n\nconst watched = document.querySelector('.library__button--watched');\nconst queue = document.querySelector('.library__button--queue');\n\nonClickWatched()\n\n\nwatched.addEventListener('click', onClickWatched);\nqueue.addEventListener('click', onClickQueue);\n\nfunction onClickWatched() {\n  const item = JSON.parse(localStorage.getItem('watched'));\n  if (item) {\n    console.log(item);\n  markUpForLibrary(item)\n  firstPaginationCall('watched');\n  } else {\n    markUpForLibrary([])\n  }\n  \n}\n\nfunction onClickQueue() {\n  const item = JSON.parse(localStorage.getItem('queue'));\n  console.log(item);\n  if (item) {\n    \n  markUpForLibrary(item)\n  firstPaginationCall('queue');\n  } else {\n    markUpForLibrary([])\n  }\n  \n  \n}\n"],"names":["$424ff8a01ad1a2b0$var$obj1","JSON","parse","localStorage","getItem","$424ff8a01ad1a2b0$var$gallery","document","querySelector","$424ff8a01ad1a2b0$export$5cc3d4baa48a7a76","arr","length","innerHTML","markUp","reduce","acc","el","concat","id","poster_path","original_title","genre_ids","map","gen","slice","release_date","vote_average","$063bfb06819d9045$var$currentPage","$063bfb06819d9045$var$totalPages","$063bfb06819d9045$var$arrLib","$063bfb06819d9045$var$paginList","$063bfb06819d9045$var$paginBlock","$063bfb06819d9045$var$prevBtn","$063bfb06819d9045$var$nextBtn","$063bfb06819d9045$export$31993a1791953749","Math","ceil","$063bfb06819d9045$export$92a8daa6d8c6a0d4","markup","$063bfb06819d9045$var$addEdgeClass","$063bfb06819d9045$var$addCurrentClassBtn","$063bfb06819d9045$var$isEdgePage","addEventListener","$063bfb06819d9045$var$onClickPagination","evt","target","nodeName","dataset","btn","$063bfb06819d9045$var$sendRequest","classList","contains","String","textContent","Number","lastElementChild","add","firstElementChild","remove","querySelectorAll","forEach","disabled","removeEventListener","indexOfArrLib","console","log","$93effc6fc56091ad$var$watched","$93effc6fc56091ad$var$queue","$93effc6fc56091ad$var$onClickWatched","item"],"version":3,"file":"library.a3a10436.js.map"}