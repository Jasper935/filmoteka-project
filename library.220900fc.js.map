{"mappings":"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","sources":["src/js/markUp/markUpforLibrary.js","src/js/paginationLib.js","src/js/library.js"],"sourcesContent":["const urlImg = 'https://image.tmdb.org/t/p/w500';\nlet obj1 = {};\nconst galleryItem = document.querySelector('.gallery');\n\nexport function markUpForLibrary(arr) {\n  let a = arr.reduce(\n    (acc, el) =>\n      (acc += `<li id=\"${el.id}\" class=\"gallery__item\">\n        <a class=\"gallery__link\" href=\"#\">\n          <img\n            class=\"gallery__img\"\n            src='${urlImg}${el.poster_path}'\n            alt=\"\"\n            width = '280'\n          />\n          <div class=\"gallery-text\">\n            <p class=\"gallery-text__title\">${el.original_title}</p>\n            <div class=\"gallery-text__info\">\n              <p class=\"gallery-text__genre\"> ${\n                el.genre_ids.map(gen => {\n                  return (gen = obj1[gen]);\n                }).length > 3\n                  ? el.genre_ids\n                      .map(gen => {\n                        return (gen = ' ' + obj1[gen]);\n                      })\n                      .slice(0, 2) + ', Other '\n                  : el.genre_ids.map(gen => {\n                      return (gen = ' ' + obj1[gen]);\n                    })\n              } | ${el.release_date.slice(0, 4)}</p>\n        <span class=\"gallery-text__rating\">${el.vote_average}</span>\n            </div>\n          </div>\n        </a>\n      </li>`),\n    ''\n  );\n  galleryItem.innerHTML = a;\n}\n","import { markUpForLibrary } from './markUp/markUpforLibrary';\nconst paginList = document.querySelector('.pagination__list');\nconst paginBlock = document.querySelector('.pagination');\nconst prevBtn = document.querySelector('.pagination__btn-prev');\nconst nextBtn = document.querySelector('.pagination__btn-next');\n\nlet currentPage;\nlet totalPages;\nlet arrLib;\nfunction firstPaginationCall(arr) {\n  arrLib = JSON.parse(localStorage.getItem(`${arr}`));\n  currentPage = 1;\n  totalPages = Math.ceil(arrLib.length / 20);\n  markUpForLibrary(arrLib.slice(0, 20));\n  paginationMarkupLib();\n}\nfunction paginationMarkupLib() {\n  //   paginBlock.removeEventListener('click', onClickPagination);\n  let markup = '';\n  if (currentPage >= 1) {\n    markup += `<li class=\"pagination__item\">1</li>`;\n  }\n  if (currentPage === 2) {\n    markup += '<li class=\"pagination__item\">2</li>';\n  }\n  if (currentPage === 3) {\n    markup +=\n      '<li class=\"pagination__item\">2</li><li class=\"pagination__item\">3</li>';\n  }\n  if (currentPage === 4) {\n    markup += `<li class=\"pagination__item-hidden is-hidden\"><span>...</span></li><li class=\"pagination__item\">2</li><li class=\"pagination__item\">3</li><li class=\"pagination__item\">4</li>`;\n  }\n  if (currentPage > 4) {\n    markup += `<li class=\"pagination__item-hidden\"><span>...</span></li><li class=\"pagination__item\">${\n      currentPage - 2\n    }</li><li class=\"pagination__item\">${\n      currentPage - 1\n    }</li><li class=\"pagination__item\">${currentPage}</li>`;\n  }\n  if (totalPages - currentPage >= 4) {\n    markup += `<li class=\"pagination__item\">${\n      currentPage + 1\n    }</li><li class=\"pagination__item\">${\n      currentPage + 2\n    }</li><li class=\"pagination__item-hidden\"><span>...</span></li>`;\n  }\n  if (totalPages - currentPage === 3) {\n    markup += `<li class=\"pagination__item\">${\n      currentPage + 1\n    }</li><li class=\"pagination__item\">${\n      currentPage + 2\n    }</li><li class=\"pagination__item-hidden is-hidden\"><span>...</span></li>`;\n  }\n  if (totalPages - currentPage === 2) {\n    markup += `<li class=\"pagination__item\">${currentPage + 1}</li>`;\n  }\n  if (totalPages - currentPage === 0) {\n    paginList.innerHTML = markup;\n    addEdgeClass();\n    addCurrentClassBtn();\n    isEdgePage();\n    paginBlock.addEventListener('click', onClickPagination);\n    return;\n  }\n  markup += `<li class=\"pagination__item\">${totalPages}</li>`;\n  paginList.innerHTML = markup;\n  addEdgeClass();\n  addCurrentClassBtn();\n  isEdgePage();\n  paginBlock.addEventListener('click', onClickPagination);\n}\n\nfunction onClickPagination(evt) {\n  if (evt.target.nodeName === 'BUTTON') {\n    if (evt.target.dataset.btn === 'prev') {\n      currentPage -= 1;\n      sendRequest();\n    }\n    if (evt.target.dataset.btn === 'next') {\n      currentPage += 1;\n      sendRequest();\n    }\n  }\n  if (\n    evt.target.nodeName !== 'LI' ||\n    evt.target.classList.contains('pagination__item-hidden')\n  ) {\n    return;\n  }\n  if (String(currentPage) === evt.target.textContent) {\n    return;\n  }\n  currentPage = Number(evt.target.textContent);\n  sendRequest();\n}\n\n// paginationMarkup();\n\nfunction addEdgeClass() {\n  paginList.lastElementChild.classList.add('pagination-edge');\n  if (currentPage > 3) {\n    paginList.firstElementChild.classList.add('pagination-edge');\n  }\n  if (totalPages - currentPage < 3) {\n    paginList.lastElementChild.classList.remove('pagination-edge');\n  }\n}\n\nfunction addCurrentClassBtn() {\n  const list = document.querySelectorAll('.pagination__item');\n  list.forEach(el => {\n    if (el.textContent === String(currentPage)) {\n      el.classList.add('pagination__currentPage');\n    }\n  });\n}\n\nfunction isEdgePage() {\n  if (currentPage === 1) {\n    prevBtn.disabled = true;\n    prevBtn.classList.remove('pagination__btn');\n    prevBtn.classList.add('pagination__btn-Ldisabled');\n  } else {\n    prevBtn.disabled = false;\n    prevBtn.classList.add('pagination__btn');\n    prevBtn.classList.remove('pagination__btn-Ldisabled');\n  }\n\n  if (currentPage === totalPages) {\n    nextBtn.disabled = true;\n    nextBtn.classList.remove('pagination__btn');\n    nextBtn.classList.add('pagination__btn-Rdisabled');\n  } else {\n    nextBtn.disabled = false;\n    nextBtn.classList.add('pagination__btn');\n    nextBtn.classList.remove('pagination__btn-Rdisabled');\n  }\n}\n\nfunction sendRequest() {\n  paginBlock.removeEventListener('click', onClickPagination);\n  const indexOfArrLib = (currentPage - 1) * 20;\n  markUpForLibrary(arrLib.slice(indexOfArrLib, indexOfArrLib + 20));\n\n  paginationMarkupLib();\n  console.log('~ currentPage', currentPage);\n  console.log('~ totalPages', totalPages);\n}\nexport { paginationMarkupLib, firstPaginationCall };\n","import { markUpForLibrary } from './markUp/markUpforLibrary';\nimport { firstPaginationCall } from './paginationLib';\n\nconst watched = document.querySelector('.library__button--watched');\nconst queue = document.querySelector('.library__button--queue');\n\nonClickWatched();\n// firstPaginationCall('watched');\nwatched.addEventListener('click', onClickWatched);\n\nfunction onClickWatched() {\n  const item = JSON.parse(localStorage.getItem('watched'));\n  // markUpForLibrary(item);\n  firstPaginationCall('watched');\n}\n\nqueue.addEventListener('click', onClickQueue);\n\nfunction onClickQueue() {\n  const item = JSON.parse(localStorage.getItem('queue'));\n  // markUpForLibrary(item);\n  firstPaginationCall('queue');\n}\n"],"names":["$424ff8a01ad1a2b0$var$obj1","$424ff8a01ad1a2b0$var$galleryItem","document","querySelector","$424ff8a01ad1a2b0$export$5cc3d4baa48a7a76","arr","a","reduce","acc","el","concat","id","poster_path","original_title","genre_ids","map","gen","length","slice","release_date","vote_average","innerHTML","$063bfb06819d9045$var$currentPage","$063bfb06819d9045$var$totalPages","$063bfb06819d9045$var$arrLib","$063bfb06819d9045$var$paginList","$063bfb06819d9045$var$paginBlock","$063bfb06819d9045$var$prevBtn","$063bfb06819d9045$var$nextBtn","$063bfb06819d9045$export$31993a1791953749","JSON","parse","localStorage","getItem","Math","ceil","$063bfb06819d9045$export$92a8daa6d8c6a0d4","markup","$063bfb06819d9045$var$addEdgeClass","$063bfb06819d9045$var$addCurrentClassBtn","$063bfb06819d9045$var$isEdgePage","addEventListener","$063bfb06819d9045$var$onClickPagination","evt","target","nodeName","dataset","btn","$063bfb06819d9045$var$sendRequest","classList","contains","String","textContent","Number","lastElementChild","add","firstElementChild","remove","querySelectorAll","forEach","disabled","removeEventListener","indexOfArrLib","console","log","$93effc6fc56091ad$var$watched","$93effc6fc56091ad$var$queue","$93effc6fc56091ad$var$onClickWatched"],"version":3,"file":"library.220900fc.js.map"}