!function(){var t=JSON.parse(localStorage.getItem("genres")),i=document.querySelector(".gallery");function n(n){0===n.length&&(i.innerHTML="");var a=n.reduce((function(i,n){return i+'<li id="'.concat(n.id,'" class="gallery__item">\n        <a class="gallery__link" href="#">\n          <img\n            class="gallery__img"\n            src=\'').concat("https://image.tmdb.org/t/p/w500").concat(n.poster_path,'\'\n            alt=""\n            width = \'280\'\n          />\n          <div class="gallery-text">\n            <p class="gallery-text__title">').concat(n.original_title,'</p>\n            <div class="gallery-text__info">\n              <p class="gallery-text__genre"> ').concat(n.genre_ids.map((function(i){return t[i]})).length>3?n.genre_ids.map((function(i){return" "+t[i]})).slice(0,2)+", Other ":n.genre_ids.map((function(i){return" "+t[i]}))," | ").concat(n.release_date.slice(0,4),'</p>\n        <span class="gallery-text__rating">').concat(n.vote_average,"</span>\n            </div>\n          </div>\n        </a>\n      </li>")}),"");i.innerHTML=a}var a,e,l,s=document.querySelector(".pagination__list"),c=document.querySelector(".pagination"),o=document.querySelector(".pagination__btn-prev"),r=document.querySelector(".pagination__btn-next");function _(t){l=JSON.parse(localStorage.getItem("".concat(t))),a=1,e=Math.ceil(l.length/20),n(l.slice(0,20)),g()}function g(){var t="";if(a>=1&&(t+='<li class="pagination__item">1</li>'),2===a&&(t+='<li class="pagination__item">2</li>'),3===a&&(t+='<li class="pagination__item">2</li><li class="pagination__item">3</li>'),4===a&&(t+='<li class="pagination__item-hidden is-hidden"><span>...</span></li><li class="pagination__item">2</li><li class="pagination__item">3</li><li class="pagination__item">4</li>'),a>4&&(t+='<li class="pagination__item-hidden"><span>...</span></li><li class="pagination__item">'.concat(a-2,'</li><li class="pagination__item">').concat(a-1,'</li><li class="pagination__item">').concat(a,"</li>")),e-a>=4&&(t+='<li class="pagination__item">'.concat(a+1,'</li><li class="pagination__item">').concat(a+2,'</li><li class="pagination__item-hidden"><span>...</span></li>')),e-a==3&&(t+='<li class="pagination__item">'.concat(a+1,'</li><li class="pagination__item">').concat(a+2,'</li><li class="pagination__item-hidden is-hidden"><span>...</span></li>')),e-a==2&&(t+='<li class="pagination__item">'.concat(a+1,"</li>")),e-a==0)return s.innerHTML=t,p(),m(),u(),void c.addEventListener("click",d);t+='<li class="pagination__item">'.concat(e,"</li>"),s.innerHTML=t,p(),m(),u(),c.addEventListener("click",d)}function d(t){"BUTTON"===t.target.nodeName&&("prev"===t.target.dataset.btn&&(a-=1,v()),"next"===t.target.dataset.btn&&(a+=1,v())),"LI"!==t.target.nodeName||t.target.classList.contains("pagination__item-hidden")||String(a)!==t.target.textContent&&(a=Number(t.target.textContent),v())}function p(){s.lastElementChild.classList.add("pagination-edge"),a>3&&s.firstElementChild.classList.add("pagination-edge"),e-a<3&&s.lastElementChild.classList.remove("pagination-edge")}function m(){document.querySelectorAll(".pagination__item").forEach((function(t){t.textContent===String(a)&&t.classList.add("pagination__currentPage")}))}function u(){1===a?(o.disabled=!0,o.classList.remove("pagination__btn"),o.classList.add("pagination__btn-Ldisabled")):(o.disabled=!1,o.classList.add("pagination__btn"),o.classList.remove("pagination__btn-Ldisabled")),a===e?(r.disabled=!0,r.classList.remove("pagination__btn"),r.classList.add("pagination__btn-Rdisabled")):(r.disabled=!1,r.classList.add("pagination__btn"),r.classList.remove("pagination__btn-Rdisabled"))}function v(){c.removeEventListener("click",d);var t=20*(a-1);n(l.slice(t,t+20)),g(),console.log("~ currentPage",a),console.log("~ totalPages",e)}var b=document.querySelector(".library__button--watched"),L=document.querySelector(".library__button--queue");function h(){var t=JSON.parse(localStorage.getItem("watched"));t?(console.log(t),n(t),_("watched")):n([])}h(),b.addEventListener("click",h),L.addEventListener("click",(function(){var t=JSON.parse(localStorage.getItem("queue"));console.log(t),t?(n(t),_("queue")):n([])}))}();
//# sourceMappingURL=library.a3a10436.js.map
